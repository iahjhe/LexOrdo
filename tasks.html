<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks - LexOrdo</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="wrapper">
         <nav id="sidebar" class="active">
            <div class="sidebar-header">
                <h3>LexOrdo</h3>
                <strong>Law Office</strong>
            </div>

            <ul class="list-unstyled components">
                <li class="active">
                    <a href="#dashboard" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-tachometer-alt"></i>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="#caseSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-folder"></i>
                        Cases
                    </a>
                    <ul class="collapse list-unstyled" id="caseSubmenu">
                        <li>
                            <a href="cases.html">All Cases</a>
                        </li>
                        <li>
                            <a href="add-case.html">Add New Case</a>
                        </li>
                        <li>
                            <a href="#">Case Calendar</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#clientSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-users"></i>
                        Clients
                    </a>
                    <ul class="collapse list-unstyled" id="clientSubmenu">
                        <li>
                            <a href="clients.html">Client List</a>
                        </li>
                        <li>
                            <a href="add-client.html">Add New Client</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="calendar.html">
                        <i class="fas fa-calendar"></i>
                        Calendar
                    </a>
                </li>
                <!-- <li>
                    <a href="#">
                        <i class="fas fa-file-invoice-dollar"></i>
                        Billing
                    </a>
                </li> -->
                <li>
                    <a href="tasks.html">
                        <i class="fas fa-tasks"></i>
                        Tasks
                    </a>
                </li>
                <li>
                    <a href="reports.html">
                        <i class="fas fa-chart-bar"></i>
                        Reports
                    </a>
                </li>
                <li>
                    <a href="settings.html">
                        <i class="fas fa-cog"></i>
                        Settings
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Page Content -->
        <div id="content">
            <!-- Top Navigation -->
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <button type="button" id="sidebarCollapse" class="btn btn-info">
                        <i class="fas fa-align-left"></i>
                        <span>Toggle Sidebar</span>
                    </button>
                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-align-justify"></i>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav ms-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="#"><i class="fas fa-bell"></i></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#"><i class="fas fa-envelope"></i></a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-user-circle"></i> John Doe
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" href="#">Profile</a></li>
                                    <li><a class="dropdown-item" href="#">Settings</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item" href="#">Logout</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>

            <!-- Main Content -->
            <div class="container-fluid">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2>Tasks</h2>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Tasks</li>
                            </ol>
                        </nav>
                    </div>
                </div>

                <!-- Task Filters -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Filter Tasks</h6>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="taskStatus" class="form-label">Status</label>
                                                <select class="form-select" id="taskStatus">
                                                    <option value="">All Statuses</option>
                                                    <option>Pending</option>
                                                    <option>In Progress</option>
                                                    <option>Completed</option>
                                                    <option>Overdue</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="taskPriority" class="form-label">Priority</label>
                                                <select class="form-select" id="taskPriority">
                                                    <option value="">All Priorities</option>
                                                    <option>Low</option>
                                                    <option>Normal</option>
                                                    <option>High</option>
                                                    <option>Urgent</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="assignedTo" class="form-label">Assigned To</label>
                                                <select class="form-select" id="assignedTo">
                                                    <option value="">All Users</option>
                                                    <option>John Doe</option>
                                                    <option>Jane Smith</option>
                                                    <option>Michael Johnson</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-end">
                                            <button type="button" class="btn btn-secondary">Reset</button>
                                            <button type="submit" class="btn btn-primary">Apply Filters</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tasks List -->
                <div class="row">
                    <div class="col-md-8">
                        <div class="card shadow mb-4">
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">Task List</h6>
                                <div>
                                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addTaskModal">
                                        <i class="fas fa-plus"></i> Add Task
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="task-container">
                                    <div class="task-item">
                                        <div class="task-check">
                                            <input type="checkbox" class="form-check-input">
                                        </div>
                                        <div class="task-content">
                                            <div class="task-title">Prepare motion for Smith case</div>
                                            <div class="task-meta">
                                                <span class="badge bg-danger">Urgent</span>
                                                <span class="due-date">Due: Today</span>
                                                <span class="assigned-to">Assigned to: John Doe</span>
                                                <span class="related-case">Case: LC-2023-001</span>
                                            </div>
                                        </div>
                                        <div class="task-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                    <div class="task-item">
                                        <div class="task-check">
                                            <input type="checkbox" class="form-check-input">
                                        </div>
                                        <div class="task-content">
                                            <div class="task-title">Client meeting with Johnson</div>
                                            <div class="task-meta">
                                                <span class="badge bg-warning">High</span>
                                                <span class="due-date">Due: Tomorrow</span>
                                                <span class="assigned-to">Assigned to: Jane Smith</span>
                                                <span class="related-case">Case: LC-2023-002</span>
                                            </div>
                                        </div>
                                        <div class="task-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                    <div class="task-item completed">
                                        <div class="task-check">
                                            <input type="checkbox" class="form-check-input" checked>
                                        </div>
                                        <div class="task-content">
                                            <div class="task-title">File documents for Williams</div>
                                            <div class="task-meta">
                                                <span class="badge bg-primary">Normal</span>
                                                <span class="due-date">Due: Jun 12</span>
                                                <span class="assigned-to">Assigned to: John Doe</span>
                                                <span class="related-case">Case: LC-2023-003</span>
                                            </div>
                                        </div>
                                        <div class="task-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                    <div class="task-item">
                                        <div class="task-check">
                                            <input type="checkbox" class="form-check-input">
                                        </div>
                                        <div class="task-content">
                                            <div class="task-title">Review contract for Anderson</div>
                                            <div class="task-meta">
                                                <span class="badge bg-primary">Normal</span>
                                                <span class="due-date">Due: Jun 14</span>
                                                <span class="assigned-to">Assigned to: Michael Johnson</span>
                                                <span class="related-case">Case: LC-2023-004</span>
                                            </div>
                                        </div>
                                        <div class="task-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                    <div class="task-item overdue">
                                        <div class="task-check">
                                            <input type="checkbox" class="form-check-input">
                                        </div>
                                        <div class="task-content">
                                            <div class="task-title">Prepare discovery requests</div>
                                            <div class="task-meta">
                                                <span class="badge bg-warning">High</span>
                                                <span class="due-date">Due: Jun 5 (Overdue)</span>
                                                <span class="assigned-to">Assigned to: Jane Smith</span>
                                                <span class="related-case">Case: LC-2023-005</span>
                                            </div>
                                        </div>
                                        <div class="task-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Task Statistics</h6>
                            </div>
                            <div class="card-body">
                                <div class="task-stats">
                                    <div class="stat-item">
                                        <div class="stat-value">5</div>
                                        <div class="stat-label">Total Tasks</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">2</div>
                                        <div class="stat-label">Pending</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">1</div>
                                        <div class="stat-label">Completed</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">1</div>
                                        <div class="stat-label">Overdue</div>
                                    </div>
                                </div>
                                <div class="task-priority-chart mt-4">
                                    <h6 class="text-center mb-3">Tasks by Priority</h6>
                                    <canvas id="priorityChart" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div class="modal fade" id="addTaskModal" tabindex="-1" aria-labelledby="addTaskModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addTaskModalLabel">Add New Task</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="taskForm">
                        <div class="mb-3">
                            <label for="taskTitle" class="form-label">Task Title *</label>
                            <input type="text" class="form-control" id="taskTitle" required>
                        </div>
                        <div class="mb-3">
                            <label for="taskDescription" class="form-label">Description</label>
                            <textarea class="form-control" id="taskDescription" rows="3"></textarea>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="taskDueDate" class="form-label">Due Date *</label>
                                <input type="date" class="form-control" id="taskDueDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="taskPriority" class="form-label">Priority *</label>
                                <select class="form-select" id="taskPriority" required>
                                    <option value="">Select Priority</option>
                                    <option>Low</option>
                                    <option>Normal</option>
                                    <option>High</option>
                                    <option>Urgent</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="taskAssignedTo" class="form-label">Assigned To *</label>
                                <select class="form-select" id="taskAssignedTo" required>
                                    <option value="">Select User</option>
                                    <option>John Doe</option>
                                    <option>Jane Smith</option>
                                    <option>Michael Johnson</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="taskRelatedCase" class="form-label">Related Case</label>
                                <select class="form-select" id="taskRelatedCase">
                                    <option value="">Select Case</option>
                                    <option>LC-2023-001 - Smith & Co.</option>
                                    <option>LC-2023-002 - Johnson, Mary</option>
                                    <option>LC-2023-003 - Williams, David</option>
                                    <option>LC-2023-005 - Brown, Robert</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveTask">Save Task</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Task completion toggle
            $('.task-check input').change(function() {
                $(this).closest('.task-item').toggleClass('completed');
            });

            // Priority chart
            var ctx = document.getElementById('priorityChart').getContext('2d');
            var priorityChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Urgent', 'High', 'Normal', 'Low'],
                    datasets: [{
                        data: [1, 2, 2, 0],
                        backgroundColor: [
                            '#dc3545',
                            '#fd7e14',
                            '#0d6efd',
                            '#6c757d'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Save task
            $('#saveTask').click(function() {
                // Here you would normally save to a database
                var newTask = {
                    title: $('#taskTitle').val(),
                    description: $('#taskDescription').val(),
                    dueDate: $('#taskDueDate').val(),
                    priority: $('#taskPriority').val(),
                    assignedTo: $('#taskAssignedTo').val(),
                    relatedCase: $('#taskRelatedCase').val()
                };
                
                // Add the new task to the list (simplified for demo)
                alert('Task saved successfully!');
                $('#addTaskModal').modal('hide');
                $('#taskForm')[0].reset();
            });
        });
    </script>
    <script src="script.js"></script>
</body>
</html>